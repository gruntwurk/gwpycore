= A BASH Cheat Sheet
polyglot-jones
v0.01, 9/14/2020

:toc:
:toc-placement!:

toc::[]


== Flow

    if [ ... ]; then
        ...
    elif [ ... ]; then
        ...
    else
        ...
    fi


== Variables


[width="100%"]
|===
| -v varname | varname defined (unary) 
|===


== Functions

    log() {
        echo $* &>> /vagrant/bootstrap.log
    }

[width="100%"]
|===
|$1 .. $n | single argument
|$*       | all arguments
|$@       | all arguments
|"$*"     | all arguments as a single string ("foo bar baz")
|"$@"     | all arguments as separate strings ("foo" "bar" "baz")
|===

== In-Line Processing

=== Command Substitution

Original way: 
	back-tics \`...\` -- backslashes are literals, not escapes

Alternative way: 
	$(...) -- backslashes are escapes

=== Arithmetic

	$((...)) -- double parens

Note: Division truncates to integer values


== Numbers

[width="100%"]
|===
| -eq, -ne   | equality
| -lt, -gt   | less/greater
| -le, -ge   | or equals
|===


== Strings

=== String Comparison Operators

[width="100%"]
|===
| ==, !=     | equality
| <, >       | sort-order
| -z         | zero length (unary)
| -n         | not zero length (unary)
|===



== Files

=== File Comparison Operators

[width="100%"]
|===
| -a filename      | file exists; it can be empty or have some content but, so long as it exists, this will be true
| -b filename      | file exists and is a block special file such as a hard drive like /dev/sda or /dev/sda1
| -c filename      | file exists and is a character special file such as a TTY device like /dev/TTY1
| -d filename      | file exists and is a directory
| -e filename      | file exists; this is the same as -a above
| -f filename      | file exists and is a regular file, as opposed to a directory, a device special file, or a link, among others
| -g filename      | file exists and is set-group-id, SETGID
| -h filename      | file exists and is a symbolic link
| -k filename      | file exists and its "sticky'" bit is set
| -p filename      | file exists and is a named pipe (FIFO)
| -r filename      | file exists and is readable, i.e., has its read bit set
| -s filename      | file exists and has a size greater than zero; a file that exists but that has a size of zero will return false
| -t fd            | file descriptor fd is open and refers to a terminal
| -u filename      | file exists and its set-user-id bit is set
| -w filename      | file exists and is writable
| -x filename      | file exists and is executable
| -G filename      | file exists and is owned by the effective group ID
| -L filename      | file exists and is a symbolic link
| -N filename      | file exists and has been modified since it was last read
| -O filename      | file exists and is owned by the effective user ID
| -S filename      | file exists and is a socket
| file1 -ef file2  | file1 and file2 refer to the same device and iNode numbers
| file1 -nt file2  | file1 is newer (according to modification date) than file2, or if file1 exists and file2 does not
| file1 -ot file2  | file1 is older than file2, or if file2 exists and file1 does not
|===



== Dates


=== Date Formatting (per the C89 standard)

[width="100%"]
|===
| %a | Weekday abbr                        | Mon..Sun
| %A | Weekday full name                   | Monday..Sunday
| %w | Weekday as a decimal                | 0..6
| %d | Day of month                        | 01..31
| %b | Month abbr                          | Jan..Dec
| %B | Month full name                     | January..December
| %m | Month                               | 01..12
| %y | 2-digit Year                        | 00..99
| %Y | 4-digit Year                        | 0001..9999
| %H | Military Hour                       | 00..23
| %I | Civilian Hour                       | 01..12
| %p | AM/PM                               | AM, PM
| %M | Minute                              | 00..59
| %S | Second                              | 00..59
| %f | Microsecond                         | 000000..999999
| %z | UTC offset                          | (empty), +0000, -0400, +1030, +063415, -030712.345216
| %Z | Time zone name                      | (empty), UTC, EST, CST
| %j | Day of the year                     | 001..366
| %U | Week of the year Sunday based       | 00..53
| %W | Week of the year Monday based       | 00..53
| %c | Locale’s appropriate representation | Tue Aug 16 21:30:00 1988
| %x | Locale’s appropriate representation | 08/16/1988
| %X | Locale’s appropriate representation | 21:30:00
| %% | Percent sign                        | %
|===

Additional Directives:

[width="100%"]
|===
| %G | ISO 8601 year that contains the greater part of the ISO week (%V) | 0001..9999
| %u | ISO 8601 weekday where 1 is Monday                                | 1..7
| %V | ISO 8601 week Monday based where Week 01 contains Jan 4.          | 01..53
|===



